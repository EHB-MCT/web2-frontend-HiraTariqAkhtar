/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/drama.js":
/*!**********************!*\
  !*** ./src/drama.js ***!
  \**********************/
/***/ (() => {

eval("\n\nlet userSearch = document.getElementById(\"userSearch\");\nlet content = document.getElementById(\"content\");\n\nconst search = document.getElementById(\"search\");\nsearch.addEventListener(\"click\", submitHandler);\n\nfunction submitHandler(e) {\n    e.preventDefault();\n        let userInput = userSearch.value;\n        //console.log(userInput); \n        fetchSearchDetails(userInput);\n}\n\nasync function fetchSearchDetails (input){\n    let response = await fetch(`https://api.themoviedb.org/3/search/multi?api_key=daf4ffe88f06bba73b59069934fc3b37&query=${input}`)\n    return await response.json()\n    .then (data => {\n        //console.log(data)\n        if (data.results){\n            let userInput = data.results\n            content.innerHTML = \"\"\n            userInput.forEach(search => {\n                if(search.media_type == \"tv\"){\n                    let filterSerials = userInput.filter(drama => drama.origin_country == \"PK\")\n                    for(let i = 0; i<= data.total_results ; i++){\n                        let html = `<div id = \"${input.id}\" class = \"drama\">\n                        <h2 class = \"title\"> ${filterSerials[i].name}</h2>\n                        <a href =\"details.html\"> <img src=\"https://image.tmdb.org/t/p/w300${filterSerials[i].poster_path}\" id = \"details\"></a>\n                        </div>`\n                        content.insertAdjacentHTML(\"beforeend\", html);\n                        userInput.value = \"\";\n                } \n            }\n                 if(search.media_type == \"person\"){\n                   let filterActors = userInput.filter(actor => actor.known_for_department == \"Acting\" && actor.known_for[0].origin_country == \"PK\")\n                   for(let i = 0; i<= data.total_results ; i++){\n                       let html = `<div id = \"${input.id}\" class = \"actor\">\n                       <h2 class = \"title\"> ${filterActors[i].name}</h2>\n                       <a href =\"details.html\"> <img src=\"https://image.tmdb.org/t/p/w300${filterActors[i].profile_path}\" id = \"details\"></a>\n                       </div>`\n                       content.insertAdjacentHTML(\"beforeend\", html);\n                       userInput.value = \"\";\n                   }\n                }\n                }\n            )\n    }\n})\n}\n\n// Homepage //\n\nasync function fetchNewSerial (){\n    let date = new Date();\n    let year=date.getFullYear(); \n\n    let response = await fetch(\"http://api.themoviedb.org/3/discover/tv?api_key=daf4ffe88f06bba73b59069934fc3b37&with_original_language=ur&include_adult=false\")\n    return await response.json()\n    .then (data => {\n        //console.log(data);\n        let results = data.results\n        let filtered = results.filter(details => details.first_air_date > `${year}`)\n        filtered.forEach(serial =>{\n            let html = `<div class=\"drama\" id=\"${serial.id}\">\n            <h2 class=\"title\"> ${serial.name}</h2>\n            <div class =\"flex\">\n            <a href =\"details.html\"> <img src=\"https://image.tmdb.org/t/p/w200${serial.poster_path}\" id = \"details\"></a>\n            <div class=\"details\"> \n            <p> <b>First episode :</b> ${serial.first_air_date} </p>\n            <p> <b>Overview :</b> ${serial.overview} </p>\n            </div>\n            </div>\n            </div>`\n            \n            let content = document.getElementById(\"new\")\n            content.insertAdjacentHTML(\"beforeend\", html)\n\n        })\n})\n}\n\n\n// All drama's page //\n\nfunction loopSerial(){\nfor(let i = 1; i<= 13; i++){\n    fetchAllSerials(i)\n}\n};\n\nasync function fetchAllSerials (page){\n    let response = await fetch(`http://api.themoviedb.org/3/discover/tv?api_key=daf4ffe88f06bba73b59069934fc3b37&with_original_language=ur&sort_by=original_title.asc&include_adult=false&page=${page}`)\n    return await response.json()\n    .then (data => {\n        //console.log(data);\n        let results = data.results\n        let filtered = results.filter(details => details.poster_path != null && details.first_air_date != \"\" && details.overview != \"\")\n        filtered.forEach(serial =>{\n            let html = `<div class=\"drama\" id=\"${serial.id}\">\n            <h2 class=\"title\"> ${serial.name}</h2>\n            <p> <b>First episode :</b> ${serial.first_air_date} </p>\n            <a href = \"details.html\" id =\"details\" ><img src=\"https://image.tmdb.org/t/p/w200${serial.poster_path}\"></a>\n            </div>`\n            \n            let content = document.getElementById(\"serialData\")\n            content.insertAdjacentHTML(\"beforeend\", html)\n        })        \n\n})\n}\n\n // Actor details //\n\nasync function fetchActor (id){\n    let response = await fetch(`https://api.themoviedb.org/3/person/${id}?api_key=daf4ffe88f06bba73b59069934fc3b37`)\n    return await response.json()\n    .then (data => {\n       // console.log(data)\n        let string = `<div class=\"actor\" id=\"${data.id}\">\n        <h1 class=\"title\"> ${data.name}</h1>\n        <div class =\"flex\">\n        <img src=\"https://image.tmdb.org/t/p/w300${data.profile_path}\">\n       <div class=\"details\"> \n       <h4> Date of Birth: </h4>\n        <p> ${data.birthday} </p> \n        <h4> Place of Birth: </h4>\n        <p>${data.place_of_birth} </p> \n        <h4> Biography: </h4>\n        <p> ${data.biography} </p>\n        </div>\n        </div>\n        </div>`\n        let content = document.getElementById(\"actorData\")\n        content.insertAdjacentHTML(\"beforeend\", string)\n        let title =`<h2 class = \"title\"> Filmography: </h2>`\n        content.insertAdjacentHTML(\"beforeend\", title)\n        fetchFilmography(data.id)\n        })\n}\n\nasync function fetchFilmography(id){\n    let res = await fetch(`https://api.themoviedb.org/3/person/${id}/tv_credits?api_key=daf4ffe88f06bba73b59069934fc3b37`)\n    return await res.json()\n    .then (data => {\n        //console.log(data);\n        let filmography = data.cast\n        console.log(filmography);\n        let filtered = filmography.filter(drama => drama.poster_path != null && drama.first_air_date != \"\" && drama.character != \"\")\n        filtered.forEach(drama => {\n            let info = `\n            <div class=\"drama\" id=\"${drama.id}\">\n            <h3 class=\"title\"> ${drama.name}</h3>\n            <p> <b>First episode :</b> ${drama.first_air_date} </p>\n            <p> <b>Number of episodes :</b> ${drama.episode_count} </p>\n            <p> <b>Character name :</b> ${drama.character} </p>\n            <a href =\"details.html\" > <img src=\"https://image.tmdb.org/t/p/w200${drama.poster_path}\" ></a>  \n            </div>`\n\n            let content = document.getElementById(\"allDramas\")\n            content.insertAdjacentHTML(\"beforeend\", info)\n        })\n        \n    })\n}\n\n// Drama details //\n\nasync function fetchDramaDetails(id){\n    let res = await fetch(`https://api.themoviedb.org/3/tv/${id}?api_key=daf4ffe88f06bba73b59069934fc3b37`)\n    return await res.json()\n    .then (data => {\n        //console.log(data);\n        let details = `<div class=\"drama\" id=\"${data.id}\">\n        <h1 class=\"title\"> ${data.name}</h1>\n        <div class =\"flex\">\n        <img src=\"https://image.tmdb.org/t/p/w300${data.poster_path}\">\n       <div class=\"details\"> \n       <p> <b>First episode :</b> ${data.first_air_date} </p>\n       <p> <b>Last episode :</b> ${data.last_air_date} </p>\n       <p> <b>Production company :</b> ${data.production_companies[0].name} </p>\n       <p> <b>Network :</b> <a href =\"${data.homepage}\" target = \"_blank\">${data.networks[0].name}</a> </p>\n       <p> <b>Number of episodes :</b> ${data.number_of_episodes}</p>\n       <p> <b>About :</b> ${data.overview} </p>\n        </div>\n        </div>\n        </div>`\n        let content = document.getElementById(\"detailData\")\n        content.insertAdjacentHTML(\"beforeend\", details)\n        let title =`<h2 class = \"title\"> Cast and crew: </h2>`\n        content.insertAdjacentHTML(\"beforeend\", title)\n        fetchCrew(data.id)\n        fetchCast(data.id)\n    })\n}\n\nasync function fetchCrew(id){\n    let res = await fetch(`https://api.themoviedb.org/3/tv/${id}/credits?api_key=daf4ffe88f06bba73b59069934fc3b37`)\n    return await res.json()\n    .then (data => {\n        let crew = data.crew\n        //console.log(crew)\n        crew.forEach(person => {\n            let info = `\n            <div class=\"details\" id=\"${person.id}\">\n            <p> <b>${person.job} :</b> ${person.name} </p>\n            </div>`\n            let content = document.getElementById(\"crew\")\n            content.insertAdjacentHTML(\"beforeend\", info)\n\n        })\n    })\n\n}\nasync function fetchCast(id){\n    let res = await fetch(`https://api.themoviedb.org/3/tv/${id}/credits?api_key=daf4ffe88f06bba73b59069934fc3b37`)\n    return await res.json()\n    .then (data => {\n        //console.log(data);\n        let cast = data.cast\n        //console.log(cast);\n        cast.forEach(actor => {\n            let info = `\n            <div class=\"actor\" id=\"${actor.id}\">\n            <h3 class=\"title\"> ${actor.name}</h3>\n            <p> <b>Character name :</b> ${actor.character} </p>\n            <a href =\"details.html\" > <img src=\"https://image.tmdb.org/t/p/w200${actor.profile_path}\" ></a>  \n            </div>`\n            let content = document.getElementById(\"cast\")\n            content.insertAdjacentHTML(\"beforeend\", info)\n        })\n    })\n}\n\n\nfetchNewSerial()\nloopSerial()\nfetchActor(2058151) // for actress Iqra Aziz //\nfetchDramaDetails(80018) // for drama Suno Chanda //\n\n\n//# sourceURL=webpack:///./src/drama.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/drama.js"]();
/******/ 	
/******/ })()
;