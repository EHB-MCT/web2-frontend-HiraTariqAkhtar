(()=>{"use strict";let e=document.getElementById("userSearch"),t=document.getElementById("content");async function a(e){let t=await fetch(`http://api.themoviedb.org/3/discover/tv?api_key=daf4ffe88f06bba73b59069934fc3b37&with_original_language=ur&sort_by=original_title.asc&include_adult=false&page=${e}`);return await t.json().then((e=>{e.results.filter((e=>null!=e.poster_path&&""!=e.first_air_date&&""!=e.overview)).forEach((e=>{let t=`<div class="drama" id="${e.id}">\n            <h2 class="title"> ${e.name}</h2>\n            <p> <b>First episode :</b> ${e.first_air_date} </p>\n            <a href = "details.html" id ="details" ><img src="https://image.tmdb.org/t/p/w200${e.poster_path}"></a>\n            </div>`;document.getElementById("serialData").insertAdjacentHTML("beforeend",t)}))}))}document.getElementById("search").addEventListener("click",(function(a){a.preventDefault(),async function(e){let a=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=daf4ffe88f06bba73b59069934fc3b37&query=${e}`);await a.json().then((a=>{if(a.results){let i=a.results;t.innerHTML="",i.forEach((n=>{if("tv"==n.media_type){let n=i.filter((e=>"PK"==e.origin_country));for(let s=0;s<=a.total_results;s++){let a=`<div id = "${e.id}" class = "drama">\n                        <h2 class = "title"> ${n[s].name}</h2>\n                        <a href ="details.html"> <img src="https://image.tmdb.org/t/p/w300${n[s].poster_path}" id = "details"></a>\n                        </div>`;t.insertAdjacentHTML("beforeend",a),i.value=""}}if("person"==n.media_type){let n=i.filter((e=>"Acting"==e.known_for_department&&"PK"==e.known_for[0].origin_country));for(let s=0;s<=a.total_results;s++){let a=`<div id = "${e.id}" class = "actor">\n                       <h2 class = "title"> ${n[s].name}</h2>\n                       <a href ="details.html"> <img src="https://image.tmdb.org/t/p/w300${n[s].profile_path}" id = "details"></a>\n                       </div>`;t.insertAdjacentHTML("beforeend",a),i.value=""}}}))}}))}(e.value)})),async function(){let e=(new Date).getFullYear(),t=await fetch("http://api.themoviedb.org/3/discover/tv?api_key=daf4ffe88f06bba73b59069934fc3b37&with_original_language=ur&include_adult=false");await t.json().then((t=>{t.results.filter((t=>t.first_air_date>`${e}`)).forEach((e=>{let t=`<div class="drama" id="${e.id}">\n            <h2 class="title"> ${e.name}</h2>\n            <div class ="flex">\n            <a href ="details.html"> <img src="https://image.tmdb.org/t/p/w200${e.poster_path}" id = "details"></a>\n            <div class="details"> \n            <p> <b>First episode :</b> ${e.first_air_date} </p>\n            <p> <b>Overview :</b> ${e.overview} </p>\n            </div>\n            </div>\n            </div>`;document.getElementById("new").insertAdjacentHTML("beforeend",t)}))}))}(),function(){for(let e=1;e<=13;e++)a(e)}(),async function(e){let t=await fetch("https://api.themoviedb.org/3/person/2058151?api_key=daf4ffe88f06bba73b59069934fc3b37");await t.json().then((e=>{let t=`<div class="actor" id="${e.id}">\n        <h1 class="title"> ${e.name}</h1>\n        <div class ="flex">\n        <img src="https://image.tmdb.org/t/p/w300${e.profile_path}">\n       <div class="details"> \n       <h4> Date of Birth: </h4>\n        <p> ${e.birthday} </p> \n        <h4> Place of Birth: </h4>\n        <p>${e.place_of_birth} </p> \n        <h4> Biography: </h4>\n        <p> ${e.biography} </p>\n        </div>\n        </div>\n        </div>`,a=document.getElementById("actorData");a.insertAdjacentHTML("beforeend",t),a.insertAdjacentHTML("beforeend",'<h2 class = "title"> Filmography: </h2>'),async function(e){let t=await fetch(`https://api.themoviedb.org/3/person/${e}/tv_credits?api_key=daf4ffe88f06bba73b59069934fc3b37`);await t.json().then((e=>{let t=e.cast;console.log(t),t.filter((e=>null!=e.poster_path&&""!=e.first_air_date&&""!=e.character)).forEach((e=>{let t=`\n            <div class="drama" id="${e.id}">\n            <h3 class="title"> ${e.name}</h3>\n            <p> <b>First episode :</b> ${e.first_air_date} </p>\n            <p> <b>Number of episodes :</b> ${e.episode_count} </p>\n            <p> <b>Character name :</b> ${e.character} </p>\n            <a href ="details.html" > <img src="https://image.tmdb.org/t/p/w200${e.poster_path}" ></a>  \n            </div>`;document.getElementById("allDramas").insertAdjacentHTML("beforeend",t)}))}))}(e.id)}))}(),async function(e){let t=await fetch("https://api.themoviedb.org/3/tv/80018?api_key=daf4ffe88f06bba73b59069934fc3b37");await t.json().then((e=>{let t=`<div class="drama" id="${e.id}">\n        <h1 class="title"> ${e.name}</h1>\n        <div class ="flex">\n        <img src="https://image.tmdb.org/t/p/w300${e.poster_path}">\n       <div class="details"> \n       <p> <b>First episode :</b> ${e.first_air_date} </p>\n       <p> <b>Last episode :</b> ${e.last_air_date} </p>\n       <p> <b>Production company :</b> ${e.production_companies[0].name} </p>\n       <p> <b>Network :</b> <a href ="${e.homepage}" target = "_blank">${e.networks[0].name}</a> </p>\n       <p> <b>Number of episodes :</b> ${e.number_of_episodes}</p>\n       <p> <b>About :</b> ${e.overview} </p>\n        </div>\n        </div>\n        </div>`,a=document.getElementById("detailData");a.insertAdjacentHTML("beforeend",t),a.insertAdjacentHTML("beforeend",'<h2 class = "title"> Cast and crew: </h2>'),async function(e){let t=await fetch(`https://api.themoviedb.org/3/tv/${e}/credits?api_key=daf4ffe88f06bba73b59069934fc3b37`);await t.json().then((e=>{e.crew.forEach((e=>{let t=`\n            <div class="details" id="${e.id}">\n            <p> <b>${e.job} :</b> ${e.name} </p>\n            </div>`;document.getElementById("crew").insertAdjacentHTML("beforeend",t)}))}))}(e.id),async function(e){let t=await fetch(`https://api.themoviedb.org/3/tv/${e}/credits?api_key=daf4ffe88f06bba73b59069934fc3b37`);await t.json().then((e=>{e.cast.forEach((e=>{let t=`\n            <div class="actor" id="${e.id}">\n            <h3 class="title"> ${e.name}</h3>\n            <p> <b>Character name :</b> ${e.character} </p>\n            <a href ="details.html" > <img src="https://image.tmdb.org/t/p/w200${e.profile_path}" ></a>  \n            </div>`;document.getElementById("cast").insertAdjacentHTML("beforeend",t)}))}))}(e.id)}))}()})();